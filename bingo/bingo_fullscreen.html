<!DOCTYPE html>
<html>
	<head>
		<base href="../">
		<title>Bingo Caller</title>
		<link rel="stylesheet" type="text/css" href="pageheader.css"></link>
		<link id="class_name" rel="stylesheet" href="bingo/bingo_fullscreen.css">
		<meta name="author" content="Kyle Gentry">
		<meta name="keywords" content="bingo">
		<meta name="description" content="Use this to call a game of bingo. It will show the players the most-recent calls and highlight the calls already made during the game.">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<style>

		</style>
	</head>
	<!-- OPTIONS -> Side of call buttons; bg color -->
	<body link="lightBlue" vlink="lightBlue" onload="rebuild_bingo_possibilities()">
		<table id="container">
            <tr id="game-columns">
                <td id="b" class="bingoletter">B</td>
                <td id="i" class="bingoletter">I</td>
                <td id="n" class="bingoletter">N</td>
                <td id="g" class="bingoletter">G</td>
                <td id="o" class="bingoletter">O</td>
				<td id="controls-column" rowspan="16">
					<div id="controls-frame">
						<div id="table-recent-calls">
							<div class="recent-row" id="recent-row-5">
								<div class="recent-call" id="recent5">&nbsp;</div>
							</div>
							<div class="recent-row" id="recent-row-4">
								<div class="recent-call" id="recent4">&nbsp;</div>
							</div>
							<div class="recent-row" id="recent-row-3">
								<div class="recent-call" id="recent3">&nbsp;</div>
							</div>
							<div class="recent-row" id="recent-row-2">
								<div class="recent-call" id="recent2">&nbsp;</div>
							</div>
							<div class="recent-row" id="recent-row-1">
								<div class="recent-call" id="recent1">&nbsp;</div>
							</div>
						</div>
						<div id="container-last-called">
							<div id="label-last-called">Last Called:</div>
							<div id="call-display">---</div>
						</div>
						<button id="newcall-button" onclick="new_call()">New<br />Call</button>
						<div id="button-box">
							<div id="other-buttons">
								<button id="newgame-button" onclick="new_game_dialog.style.display = 'flex'">New Game</button>
								<button id="options-button" onclick="options_dialog.style.display = 'flex'">Options</button>
								<button id="help-button" onclick="help_dialog.style.display = 'flex'" title="About/Help">?</button>
							</div>
							<div id="signature" >ksgwxfan.github.io</div>
						</div>
					</div>
				</td>
            </tr>
            <tr>
                <td id="b-1" class="bingonumber">1</td>
                <td id="i-16" class="bingonumber">16</td>
                <td id="n-31" class="bingonumber">31</td>
                <td id="g-46" class="bingonumber">46</td>
                <td id="o-61" class="bingonumber">61</td>
            </tr>
            <tr>
                <td id="b-2" class="bingonumber">2</td>
                <td id="i-17" class="bingonumber">17</td>
                <td id="n-32" class="bingonumber">32</td>
                <td id="g-47" class="bingonumber">47</td>
                <td id="o-62" class="bingonumber">62</td>
            </tr>
            <tr>
                <td id="b-3" class="bingonumber">3</td>
                <td id="i-18" class="bingonumber">18</td>
                <td id="n-33" class="bingonumber">33</td>
                <td id="g-48" class="bingonumber">48</td>
                <td id="o-63" class="bingonumber">63</td>
            </tr>
            <tr>
                <td id="b-4" class="bingonumber">4</td>
                <td id="i-19" class="bingonumber">19</td>
                <td id="n-34" class="bingonumber">34</td>
                <td id="g-49" class="bingonumber">49</td>
                <td id="o-64" class="bingonumber">64</td>
            </tr>
            <tr>
                <td id="b-5" class="bingonumber">5</td>
                <td id="i-20" class="bingonumber">20</td>
                <td id="n-35" class="bingonumber">35</td>
                <td id="g-50" class="bingonumber">50</td>
                <td id="o-65" class="bingonumber">65</td>
            </tr>
            <tr>
                <td id="b-6" class="bingonumber">6</td>
                <td id="i-21" class="bingonumber">21</td>
                <td id="n-36" class="bingonumber">36</td>
                <td id="g-51" class="bingonumber">51</td>
                <td id="o-66" class="bingonumber">66</td>
            </tr>
            <tr>
                <td id="b-7" class="bingonumber">7</td>
                <td id="i-22" class="bingonumber">22</td>
                <td id="n-37" class="bingonumber">37</td>
                <td id="g-52" class="bingonumber">52</td>
                <td id="o-67" class="bingonumber">67</td>
            </tr>
            <tr>
                <td id="b-8" class="bingonumber">8</td>
                <td id="i-23" class="bingonumber">23</td>
                <td id="n-38" class="bingonumber">38</td>
                <td id="g-53" class="bingonumber">53</td>
                <td id="o-68" class="bingonumber">68</td>
            </tr>
            <tr>
                <td id="b-9" class="bingonumber">9</td>
                <td id="i-24" class="bingonumber">24</td>
                <td id="n-39" class="bingonumber">39</td>
                <td id="g-54" class="bingonumber">54</td>
                <td id="o-69" class="bingonumber">69</td>
            </tr>
            <tr>
                <td id="b-10" class="bingonumber">10</td>
                <td id="i-25" class="bingonumber">25</td>
                <td id="n-40" class="bingonumber">40</td>
                <td id="g-55" class="bingonumber">55</td>
                <td id="o-70" class="bingonumber">70</td>
            </tr>
            <tr>
                <td id="b-11" class="bingonumber">11</td>
                <td id="i-26" class="bingonumber">26</td>
                <td id="n-41" class="bingonumber">41</td>
                <td id="g-56" class="bingonumber">56</td>
                <td id="o-71" class="bingonumber">71</td>
            </tr>
            <tr>
                <td id="b-12" class="bingonumber">12</td>
                <td id="i-27" class="bingonumber">27</td>
                <td id="n-42" class="bingonumber">42</td>
                <td id="g-57" class="bingonumber">57</td>
                <td id="o-72" class="bingonumber">72</td>
            </tr>
            <tr>
                <td id="b-13" class="bingonumber">13</td>
                <td id="i-28" class="bingonumber">28</td>
                <td id="n-43" class="bingonumber">43</td>
                <td id="g-58" class="bingonumber">58</td>
                <td id="o-73" class="bingonumber">73</td>
            </tr>
            <tr>
                <td id="b-14" class="bingonumber">14</td>
                <td id="i-29" class="bingonumber">29</td>
                <td id="n-44" class="bingonumber">44</td>
                <td id="g-59" class="bingonumber">59</td>
                <td id="o-74" class="bingonumber">74</td>
            </tr>
            <tr>
                <td id="b-15" class="bingonumber">15</td>
                <td id="i-30" class="bingonumber">30</td>
                <td id="n-45" class="bingonumber">45</td>
                <td id="g-60" class="bingonumber">60</td>
                <td id="o-75" class="bingonumber">75</td>
            </tr>

		</table>
		<div id="options">
			<!-- CALLER SIDE -->
			<span class="options-text">Select Side for Call Display:</span>
			<div>
				<label>
					<input id="input-caller-side-left" type="radio" name="caller_side" value="left" onchange="change_side(this.value)"/>
					&nbsp;Left
				</label>
				<label>
					<input id="input-caller-side-right" type="radio" name="caller_side" value="right" onchange="change_side(this.value)" checked />
					&nbsp;Right
				</label>
			</div>
			<!-- CALLER VERT PLACEMENT -->
			<span class="options-text">Placement of Caller Button:</span>
			<div>
				<label>
					<input id="input-caller-placement-upper" type="radio" name="call_btn_place" value="upper" onchange='change_call_btn_placement(this.value)' />
					&nbsp;Upper
				</label>
				<label>
					<input id="input-caller-placement-lower" type="radio" name="call_btn_place" value="lower" onchange='change_call_btn_placement(this.value)' checked />
					&nbsp;Lower
				</label>
			</div>
			<!-- RECENT CALL DIRECTION -->
			<span class="options-text">Recent-Calls List Direction:</span>
			<div>
				<label>
					<input id="input-recent-call-dir-upper" type="radio" name="recent_call_place" value="upper" onchange='change_recent_calls_direction(this.value)' />
					&nbsp;Top-to-Bottom
				</label>
				<label>
					<input id="input-recent-call-dir-lower" type="radio" name="recent_call_place" value="lower" onchange='change_recent_calls_direction(this.value)' checked />
					&nbsp;Bottom-to-Top
				</label>
			</div>
			<!-- NEW CALL BUFFER -->
			<div>
				<label>
					<input
						id="input-call-buffer-toggle"
						type="checkbox"
						name="call_buffer_toggle"
						title="Call buffer prevents immediate successive new calls."
						onclick="toggle_call_buffer()"
						checked />
					New-Call Buffer
				</label>
				<label>
					<input
						id="input-call-buffer-time"
						type="number"
						min="1"
						max="10"
						value="2"
						name="call_buffer_time"
						title="Time (seconds) for the call buffer"
						oninput="change_buffer_time()"
					/>
					Time (s)
				</label>
			</div>
			<!-- REMOTE CONTROL-->
			<div style="display:flex;flex-direction:column;align-items:center;">
				<label>
					<input
						id="input-pres-remote-toggle"
						type="checkbox"
						name="pres_remote_toggle"
						title="Toggles optional control with a presentation remote"
						onclick="localStorage.setItem('pres_remote_toggle', (this.checked) ? 1 : 0);" />
					Presentation Remote Control **Experimental**
				</label>
				<label style="font-size:2vmin;font-weight:normal;width:50%;">
					* When on the Caller (main) screen, the &LessLess; and &GreaterGreater; buttons on the controller (equal to "PageUp"and "PageDown" keyboard presses) initiate a new call. The blank-screen button (looks similar to &boxbox;; equal to "B") will pop-up the new-game screen.
				</label>
			</div>
			<div>
				<!-- VISUALS PLACEMENT RESET -->
				<button onclick="reset_placements()">Reset Options</button>
				<!-- CLOSE BUTTON -->
				<button onclick="options_dialog.style.display = 'none'">CLOSE</button>
				<!-- COLOR OPTIONS -->
				<button
					onclick=
						"options_dialog.style.display = 'none';
						 color_options.style.display = 'flex'"
				>Color Options</button>
			</div>
		</div>

		<!-- COLOR OPTIONS -->
		<div id="color-options">
			<!-- BACKGROUND -->
			<label>
				<input
					id="background_color"
					type="color"
					oninput="change_board_color(this.value);"
					value="#FFFFFF" 
				/>Background Color
			</label>
			<!-- MAIN TEXT -->
			<label>
				<input
					id="text_color"
					type="color"
					oninput="change_board_color(this.value, 'fg');"
					value="#000000" 
				/>Main Text Color
			</label>
			<!-- CALLED COLOR BACKGROUND -->
			<label>
				<input
					id="called_background_color"
					type="color"
					oninput="change_called_color(this.value);"
					value="#FFFF00"
				/>Called Background Color
			</label>
			<!-- CALLED TEXT COLOR -->
			<label>
				<input
					id="called_text_color"
					type="color"
					oninput="change_called_color(this.value, 'fg');"
					value="#000000" 
				/>Called Text Color
			</label>
			<!-- LAST-CALLED NUMBER -->
			<label>
				<input
					id="call_display_color"
					type="color"
					oninput="change_call_display_color(this.value);"
					value="#000080" 
				/>Previous Call Color
			</label>
			<!-- RECENTLY-CALLED NUMBERS -->
			<label>
				<input
					id="recent_calls_color"
					type="color"
					oninput="change_recent_calls_color(this.value);"
					value="#808080"
				/>Recently Called Numbers
			</label>
			<!-- NEW CALL OUTLINE COLOR-->
			<label>
				<input
					id="new_call_outline_color"
					type="color"
					oninput="change_new_call_outline_color(this.value)"
					value="#000000" 
				/>Newly-Called Number Outline
			</label>

			<div>
				<button
					onclick=
						 "color_options.style.display = 'none';
						options_dialog.style.display = 'flex'"
					title="Go back to main options"
				>&lt;</button>
				<button onclick="reset_colors()">Reset Colors</button>
				<button onclick="color_options.style.display = 'none'">Close</button>
			</div>
		</div>

		<!-- START NEW GAME -->
		<div id="new-game-dialog">
			<span class="options-text">Are you sure you want to start a new game?</span>
			<div>
				<button id="new-game-no" onclick="new_game_dialog.style.display='none'">NO</button>
				<button id="new-game-yes" onclick="new_game();">YES</button>
			</div>
			<span style="font-size:3vmin;width:50%;">
				* If the experimental presentation remote control feature is turned on, press &LessLess; to cancel and &GreaterGreater; to confirm.
			</span>
		</div>

		<!-- HELP -->
		<div id="help">
			<h1>Fullscreen Bingo Caller</h1>
			<h3>Version 2.1</h3>
			<p>
				Fullscreen Bingo Caller assists users in playing Bingo. It enables players to see previously-called numbers and the most-recent calls. A call buffer feature prevents the host from accidentally or pre-maturely calling a new number. 
			</p>
			<p>
				A large set of customizations are possible via the "options" button, including layout, call-buffer options, presentation-remote use, and colors. Browser <code>localStorage</code> enables these customizations to be saved and re-loaded upon subsequent visits.
			</p>
			<p>
				This page is optimized for smartboards and other touch-screen devices (like tablets) but should work on any device. In general, the larger the screen, the better.
			</p>
			<h4>Troubleshooting</h4>
			<p class="help-action-container">
				<button onclick="try_fullScreen();">Go<br />Fullscreen</button>
				<button onclick="exit_fullScreen();">Exit<br />Fullscreen</button>
				<span>Use these to attempt to request/revoke fullscreen usage; . For example, lots of browsers for android-based devices (not only phones, but even smartboards) don't give their users this simple control over their browsing experience.</span>
			</p>
			<p class="help-action-container">
				<button id="last-game" onclick="restore_last_game();">Restore Last Game</button>
				<span>*EXPERIMENTAL* Use this if the page refreshed unexpectedly or if a new game was started by mistake. This will only work if the game has not started (no calls made).</span>
			</p>
			<p class="help-action-container">
				<button onclick="localStorage.clear();">Reset localStorage</button>
				<span>Click this to clear all settings and styles. You must then refresh the page. It will then react as if you're visiting the page for the first time.</span>
			</p>
			<p class="help-action-container">
				<label>
					<input
						id="logging-toggle"
						type="checkbox"
						oninput="toggle_logging()"
						title="Toggle a viewable log for basic events/troubleshooting"
						checked
					/>Logging?
				</label>
				<button id="logging-button" onclick="openLog()">Show log</button>
				<span>Show a basic event log. If turned off, the logs history will be deleted.</span>
			</p>
			<button
				onclick="help_dialog.style.display = 'none';"
			>Close</button>
		</div>
		<!-- LOGGING -->
		<div id="logging">
			<div id="logging-container">
				<div>---</div>
			</div>
			<button
				onclick="document.getElementById('logging').style.display = 'none';"
			>Close</button>
		</div>
	</body>
	<script src="bingo/bingo_fullscreen.js"></script>
</html>

























